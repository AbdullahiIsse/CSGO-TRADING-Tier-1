@page "/AddWallet"
@using SEPCSTier1.Data
@using Microsoft.AspNetCore.Components.Server.ProtectedBrowserStorage
@using Microsoft.AspNetCore.Components
@inject IWalletData WalletData
@inject NavigationManager NavigationManager
@inject ProtectedSessionStorage ProtectedSessionStore
<h3>AddWallet</h3>

   <div class="col">
  
              <div class="card" style="width: 18rem;">
                  <img class="card-img-top" src="credit.png" alt="Card image cap">
                  <div class="card-body">
                      <h5 class="card-title">Wallet</h5>
                      <input type="number" class="form-control" @bind-value="_wallet.balance" placeholder="Enter price">
                      <a class="btn btn-primary" @onclick="Addwallet">Insert Money</a>
                  </div>
              </div>
  
          </div>









@code {
    
    
    
    public long paymentid { get; set; }
    private Models.Wallet _wallet = new Models.Wallet();
    
    
    

    protected async override Task OnInitializedAsync()
    {
        var protectedPayment = await ProtectedSessionStore.GetAsync<long>("P");
        paymentid = protectedPayment.Value;
    }


    public async void Addwallet()
    {
        //await WalletData.AddWallet(new Models.Wallet(_wallet.price, paymentid));
        Console.WriteLine("id1:" + paymentid);
        NavigationManager.NavigateTo("/Login", true);
        
    }
    
    
    
    
    
    
    
    
    
    
    
    
}