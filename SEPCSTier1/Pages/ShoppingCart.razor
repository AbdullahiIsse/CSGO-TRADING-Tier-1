@page "/Cart"
@using SEPCSTier1.Models

@inject ICart cart

<h3>ShoppingCart</h3>


<div class="container-md">
    <div class="row">
        <div class="col">

            <h1>Shopping Cart</h1>

            <table class="table">
                <thead>
                <tr>
                    <th>Description</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Remove</th>
                </tr>
                </thead>


                <tbody class="text-gray-700">

                @foreach (Itemss i in items)
                {
                    <tr>
                        <td class="w-1/3 text-left py-3 px-4">@i.weaponname</td>
                        <td class="w-1/3 text-left py-3 px-4">Quantity</td>
                        <td class="w-1/3 text-left py-3 px-4">0</td>
                        <td><button @onclick="() => removeProduct(i)"> X </button></td>
                    </tr>
                }

                <thead>
                <tr>
                    <th>Total Price</th>
                    <th></th>
                    <th>100.00 â‚¬</th>
                </tr>
                </thead>

                </tbody>
            </table>


        </div>
    </div>
</div>


@code {

    private IList<Itemss> items;

    protected override async Task OnInitializedAsync()
    {
        items = cart.getCart();

        foreach (var VARIABLE in items)
        {
            Console.WriteLine(VARIABLE);
        }
    }

    public void removeProduct(Itemss i)
    {
        Console.WriteLine(i.weaponname);
        cart.removeProduct(i);
    }

}